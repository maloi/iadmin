{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
{% endblock css %}

{% block js %}
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<script>
$(function() {
    $(".date").datepicker({ dateFormat: 'dd.mm.yy' });
    $("#addGroupInput").click(function() {
        event.preventDefault();
        $("<li><input type='text' name='userGroups' value='' /><button>-</button></li>")
            .insertBefore("#addGroupInput");
        $("#groupList li:last > button").click(function() {
            event.preventDefault();
            $(this).parent().remove();
        });
    });
    $("li > button").click(function() {
        event.preventDefault();
        $(this).parent().remove();
    });
});
</script>
{% endblock js %}

{% block content %}
<form action="" method="post">{% csrf_token %}
    {{ form.as_p }}
    <ul id="groupList">
    {% for group in userGroups %}
        <li><input type="text" name="userGroups" value="{{ group.cn }}" /><button>-</button></li>
    {% endfor %}
    <button id="addGroupInput">+</button>
    </ul>
    <input type="submit" value="Abschicken" />
</form>
{% endblock content %}
